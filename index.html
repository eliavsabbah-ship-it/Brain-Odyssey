<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Puzzle Master</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Puzzle Master</h1>
    <p>Challenge your brain with unique puzzles. Free and Premium players get unlimited puzzles!</p>
  </header>

  <main>
    <section class="puzzle-selection">
      <h2>Select Puzzle Type</h2>
      <p>Pick a type and start playing. Once chosen, youâ€™ll always play this type unless you reset.</p>
      <select id="puzzleTypeSelect">
        <option value="cipher">Caesar Cipher / Codebreaking</option>
        <option value="memory">Memory Challenge</option>
        <option value="binary">Binary / Hex Decode</option>
        <option value="maze">ASCII Maze</option>
        <option value="lightsout">Lights Out</option>
        <option value="logic">Logic Gates Puzzle</option>
      </select>
      <a href="puzzles.html" id="playBtn" class="play-btn">Play Puzzle</a>
      <button id="resetChoice">Reset Puzzle Choice</button>
    </section>
  </main>

  <script>
    const playBtn = document.getElementById("playBtn");
    const puzzleTypeSelect = document.getElementById("puzzleTypeSelect");
    const resetBtn = document.getElementById("resetChoice");

    // If user already picked, skip selection
    if(localStorage.getItem("selectedPuzzleType")){
      window.location.href = "puzzles.html";
    }

    playBtn.addEventListener("click", () => {
      localStorage.setItem("selectedPuzzleType", puzzleTypeSelect.value);
    });

    resetBtn.addEventListener("click", () => {
      localStorage.removeItem("selectedPuzzleType");
      alert("Puzzle type reset! Now you can pick again.");
    });
  </script>
</body>
</html>
